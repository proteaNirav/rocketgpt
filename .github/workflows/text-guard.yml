name: text-guard (smoke)

# Safety: Text-guard smoke test workflow (read-only)
# - Tests text-guard Phase-2 configuration
# - No modifications, only displays config
# - Permissions: read-only

on:
  workflow_dispatch:
  pull_request:
    branches: [ main ]

permissions:
  contents: read

jobs:
  smoke:
    runs-on: ubuntu-latest
    env:
      TEXTGUARD_PHASE2_CONFIG: config/textguard_phase2.json

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Show Phase-2 flag
        run: |
          echo "ðŸ›¡ Text-Guard Phase-2 preview"
          echo "Config path: $TEXTGUARD_PHASE2_CONFIG"
          if [ -f "$TEXTGUARD_PHASE2_CONFIG" ]; then
            echo "Config file found. Contents:"
            cat "$TEXTGUARD_PHASE2_CONFIG"
          else
            echo "âš  Config file NOT found"
          fi

          echo "Smoke OK"
          echo "sha="
# phase2-preview marker: 2025-11-12T21:19:37.5322797+05:30
# ensure-diff: 2025-11-13T00:45:06.0638518+05:30
